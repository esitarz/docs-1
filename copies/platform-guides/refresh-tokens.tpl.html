<div id="RefreshTokens">
    <section class="guides-section" id="RefreshTokenOverview">
        <h2><i class="fa fa-link" ngclipboard-success="documentation.copyLinkSuccess(e)" ngclipboard
               data-clipboard-text="{{documentation.generateLink('RefreshTokenOverview')}}"></i> Overview</h2>
        <p>You will learn how to set-up and use refresh tokens which will allow your users to remain
            signed in without having to reauthenticate. This guide assumes you already know how to
            authenticate using one of the four <a ui-sref="platform-guides({sectionID:'authentication', guideID:'oauth2-workflows'})">workflows</a></p>
    </section>
    <section class="guides-section" id="UnderstandingTokens">
        <h2><i class="fa fa-link" ngclipboard-success="documentation.copyLinkSuccess(e)" ngclipboard
               data-clipboard-text="{{documentation.generateLink('UnderstandingTokens')}}"></i> Understanding Tokens</h2>
        <p>A successful request to authenticate will return a response much like the following.</p>
        <div>
        <pre prism class="language-http"
             source='POST https://api.ordercloud.io/oauth/token HTTP/1.1
Content-Type: application/json; charset=UTF-8'>
</pre>
        <pre prism class="language-javascript"
             source='{
"access_token": "eyJ0eXAi0iJKV1QiLCJhbGci0iJ",
"token_type" : "bearer",
"expires_in" : 35999,
"refresh_token": "878ca890-af6a-48b6-98a2-1e1cf4a.."
}'>
        </pre>

        </div>

        <p>In a typical workflow, you will use the access token in any request to the OrderCloud.io API.
            When that token expires, you will need to re-authenticate. The refresh token can
            be used to retrieve a new access token without needing user credentials or a client secret.</p>
        <p>If you are planning on retrieving a new access token using this method then you will want
            to store that refresh token when first authenticating.</p>
        <p>Although not visible from the response, the refresh token also has an expiration
            duration. Once expired, you will no longer be able to request a new access token using
            that refresh token. The expiration duration for both the access and refresh tokens can
            be changed from the Applications view in the <a ui-sref="platform-guides({sectionID:'getting-started', guideID:'using-the-dashboard'})">Dashboard</a>. A refresh token
            duration of <code>0</code> will not return a refresh token.</p>
    </section>
    <section class="guides-section" id="UsingRefreshToken">
        <h2><i class="fa fa-link" ngclipboard-success="documentation.copyLinkSuccess(e)" ngclipboard
               data-clipboard-text="{{documentation.generateLink('UsingRefreshToken')}}"></i> Using a Refresh Token</h2>

        <p>The following information will be needed for the request:</p>
        <table class="table">
            <thead>
            <tr>
                <th>Variable</th>
                <th>Definition</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>grant_type</td>
                <td>Value must be refresh_token</td>
            </tr>
            <tr>
                <td>client_id</td>
                <td>This will be the client ID used in the original request</td>
            </tr>
            <tr>
                <td>refresh_token</td>
                <td>This will be the refresh_token from the first response</td>
            </tr>
            </tbody>
        </table>

        <p>A successful request might look like this:</p>
        <div>
              <pre prism class="language-http"
                   source='POST https://auth.ordercloud.io/oauth/token HTTP/1.1
Content-Type: text/html; charset=UTF-8

client_id=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&grant_type=refresh_token&refresh_token=878ca890-af6a48b6-98a2-1e1cf4a&scope=FullAccess'>
        </pre>
        </div>

    </section>
    <section class="guides-section" id="RefreshTokenConclusion">
        <h2><i class="fa fa-link" ngclipboard-success="documentation.copyLinkSuccess(e)" ngclipboard
               data-clipboard-text="{{documentation.generateLink('RefreshTokenConclusion')}}"></i> Conclusion</h2>
        <p>After reading this guide you should now be able to
            retrieve access tokens by using refresh tokens. This will allow your users to remain
            signed in as long as their refresh token has not expired. </p>

    </section>
</div>