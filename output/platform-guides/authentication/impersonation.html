<!doctype html>
<html lang="english">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Impersonation   platform-guides Articles | OrderCloud Documentation

</title>
  <link rel="canonical" href="../../platform-guides/authentication/impersonation.html">


    <link rel="stylesheet" href="../../theme/css/style.min.css?f4453825">
  <link rel="stylesheet" href="../../theme/css/pygments/default.min.css">

  
  <meta name="description" content="Overview In some instances, you may want to allow a user to order on behalf of another user. We see this use case a lot in Customer Service Desk and Call Center scenarios where customers will call their orders in and the service rep places the order on the customer …">


</head>

<body>
  <header class="header">
<nav class="navbar navbar-expand navbar-dark bg-dark">
  <div class="container justify-content-between">
    <a class="navbar-brand" href="../../">OrderCloud Documentation</a>
    <ul class="navbar-nav">
          <li class="nav-item ">
            <a class="nav-link" href="../../api-reference.html">api-reference</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../frameworks-and-sdks.html">frameworks-and-sdks</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../integration-services.html">integration-services</a>
          </li>
          <li class="nav-item  active">
            <a class="nav-link" href="../../platform-guides.html">platform-guides</a>
          </li>
    </ul>
  </div>
</nav>  </header>

  <div class="main">
    <div class="container">
  <div class="row">
    <div class="col-sm-3">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="h2 nav-link" href="../../platform-guides.html">platform-guides</a>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/authentication/anonymous-shopping.html">Anonymous Shopping</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/core-concepts/assignments.html">Assignments</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/basic-api-features/conventions.html">Conventions</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/authentication/developer-access.html">Developer Access</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/basic-api-features/errors.html">Errors</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/basic-api-features/extended-properties.html">Extended Properties</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/basic-api-features/filtering.html">Filtering</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/basic-api-features/http-methods.html">Http Methods</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/authentication/impersonation.html">Impersonation</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/getting-started/introduction-to-ordercloud.html">Introduction To Ordercloud</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/authentication/oauth2-workflows.html">Oauth2 Workflows</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/basic-api-features/pagination.html">Pagination</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/getting-started/quick-start-guide.html">Quick Start Guide</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/authentication/refresh-tokens.html">Refresh Tokens</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/core-concepts/rules-engine.html">Rules Engine</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/basic-api-features/searching.html">Searching</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/authentication/security-profiles.html">Security Profiles</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/basic-api-features/sorting.html">Sorting</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/getting-started/using-the-api-console.html">Using The Api Console</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../platform-guides/getting-started/using-the-dashboard.html">Using The Dashboard</a>
            </li>
        </li>
      </ul>
    </div>
    <div class="col-sm-9">
      <h1>
  Impersonation
      </h1>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2018-03-19T15:32:44.250255-05:00">
          <i class="far fa-clock"></i>
          Mon 19 March 2018
        </li>
        <li class="list-inline-item">
          <i class="far fa-folder-open-o"></i>
          <a href="../../platform-guides.html">platform-guides</a>
            <a href="../../platform-guides/authentication.html">authentication</a>
        </li>
          <li class="list-inline-item">
            <i class="far fa-user"></i>
              <a href="../../author/ordercloudio.html">OrderCloud.io</a>          </li>
          <li class="list-inline-item">
            <i class="far fa-files"></i>
              <a href="../../tag/authentication.html">#authentication</a>          </li>
      </ul>
    </header>
    <div class="content">
      <h2>Overview</h2>
<p>In some instances, you may want to allow a user to order on behalf of another
user. We see this use case a lot in Customer Service Desk and Call Center
scenarios where customers will call their orders in and the service rep places
the order on the customer’s behalf. This workflow preserves the reporting
data, email notifications, and presents the catalog ordering rules the buyer
is configured for.</p>
<p>The OrderCloud.io API supports this capability by allowing certain users to
make API calls on behalf of a buyer user, which we refer to as impersonation.
If you're an admin user, with the <code>BuyerImpersonation</code> role you can
impersonate any buyer user under your organizational umbrella as long as an
applicable Impersonation Config has been created. If you're a buyer user with
the <code>BuyerImpersonation</code> role can impersonate any other buyer user within the
same buyer company as long as an applicable Impersonation Config has been
created.</p>
<h2>Creating an Impersonation Config</h2>
<p><code>ImpersonationBuyerID</code>, <code>ImpersonationGroupID</code>, and <code>ImpersonationUserID</code> all
reference the party you want to grant access to do the impersonating. While
<code>BuyerID</code>, <code>GroupID</code>, <code>UserID</code> all reference the party who will be
impersonated. The <code>SecurityProfileID</code> is the Security Profile you would like
to grant the user doing the impersonating (only while they are impersonating).
<code>ClientID</code> is the specific application impersonation will be allowed in, if
you need to impersonate in multiple applications, you’ll need to set up
multiple Impersonation Configs.</p>
<p>API reference: Create Impersonation Config</p>
<pre><code>POST POST https://api.ordercloud.io/v1/impersonationconfig HTTP/1.1
Authentication: Bearer put_access_token_here
Content-Type: application/json

{
  "ID": "…",
  "ImpersonationBuyerID": "…",
  "ImpersonationGroupID": "…",
  "ImpersonationUserID": "…",
  "BuyerID": "…",
  "GroupID": "…",
  "UserID": "…",
  "SecurityProfileID": "…",
  "ClientID": "…",
  "BuyerID": "…"
}
</code></pre>
<h2>Retrieving the Access Token</h2>
<p>After you have successfully created an applicable Impersonation Config, the
next step is to retrieve that buyer user's Access Token by using the Users
<code>GetAccessToken</code> endpoint:</p>
<p>API reference: Get Access Token</p>
<pre><code>POST https://api.ordercloud.io/v1/buyers/{buyerID}/users/{userID}/accesstoken HTTP/1.1
Authentication: Bearer put_access_token_here
Content-Type: application/json

{
  "ClientID": "…",
  "Roles": [
    "DevCenterImpersonate"
  ]
}
</code></pre>
<h2>Subsequent Requests</h2>
<p>The<code>access_token</code> from the response will need to be included for each and
every OrderCloud.io API request in the Authorization header prefaced by
<code>Bearer</code>:</p>
<pre><code>GET https://api.ordercloud.io/v1/buyers HTTP/1.1
Authentication: Bearer put_access_token_here
Content-Type: application/json
</code></pre>
<h2>Conclusion</h2>
<p>You should now have a basic understanding of how to impersonate a buyer user
on Ordercloud.io, and when you may need to use this functionality.</p>
    </div>
  </article>
    </div>
  </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
      <li class="list-inline-item"><a href="../../authors.html">Authors</a></li>
    <li class="list-inline-item"><a href="../../archives.html">Archives</a></li>
    <li class="list-inline-item"><a href="../../categories.html">Categories</a></li>
      <li class="list-inline-item"><a href="../../tags.html">Tags</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>
</body>

</html>